Algorithm,Parameter,ParamType,Token/Options,LogicalInterval/Notes
GLOBAL,problem,word,PFSP_MS (or other problem tokens depending on registered builders),"This file only shows the generic parser core; exact PROBLEM tokens depend on which builders are registered."
GLOBAL,time_option,word,"-it <float> | -ro <float>","-it is seconds; -ro is multiplied by problemSize. Parsed after algorithm components."
GLOBAL,seed,word,"rnds <int>","Seed can appear anywhere; parser scans for it."
GLOBAL,print_solution,word,"ps","Optional flag."

# ---------------------------
# ALGORITHM (top-level)
# ---------------------------
ALGORITHM,algorithm,word,"ils | fils | tabu | first | best | ffirst | fbest | tfirst | tbest | als | vnd | vns | lsvnd | stin | nols | lspipe | ga","These are the tokens explicitly recognized in buildAlgo()."

# ---------------------------
# FIRST / BEST / FEASIBLE / TIE-BREAKING variants
# Structure: <algo> <initial_solution> <termination> <neighborhood>
# ---------------------------
first,initial_solution,component,INITIAL_SOLUTION_SPEC,"See INITIAL_SOLUTION_SPEC row below (not expanded in this file)."
first,termination,component,TERMINATION_SPEC,"See TERMINATION_SPEC rows."
first,neighborhood,component,NEIGHBORHOOD_SPEC,"In this file, only 'rch' is implemented as neighborhood."

best,initial_solution,component,INITIAL_SOLUTION_SPEC,"Same structure as first."
best,termination,component,TERMINATION_SPEC,"Same structure as first."
best,neighborhood,component,NEIGHBORHOOD_SPEC,"Same structure as first."

ffirst,initial_solution,component,INITIAL_SOLUTION_SPEC,"FeasibleFirstImprovementSearch."
ffirst,termination,component,TERMINATION_SPEC,""
ffirst,neighborhood,component,NEIGHBORHOOD_SPEC,""

fbest,initial_solution,component,INITIAL_SOLUTION_SPEC,"FeasibleBestImprovementSearch."
fbest,termination,component,TERMINATION_SPEC,""
fbest,neighborhood,component,NEIGHBORHOOD_SPEC,""

tfirst,initial_solution,component,INITIAL_SOLUTION_SPEC,"TieBrakingFirstImprovementSearch also requires a PROBLEM component."
tfirst,termination,component,TERMINATION_SPEC,""
tfirst,neighborhood,component,NEIGHBORHOOD_SPEC,""
tfirst,problem,component,PROBLEM_SPEC,"Built via COMPONENT_PROBLEM; implementation not shown in this excerpt."

tbest,initial_solution,component,INITIAL_SOLUTION_SPEC,"TieBrakingBestImprovementSearch also requires a PROBLEM component."
tbest,termination,component,TERMINATION_SPEC,""
tbest,neighborhood,component,NEIGHBORHOOD_SPEC,""
tbest,problem,component,PROBLEM_SPEC,"Built via COMPONENT_PROBLEM; implementation not shown in this excerpt."

# ---------------------------
# TABU
# Structure: tabu (best|first) <initial_solution> <termination> <neighborhood> <tabu_tenure>
# ---------------------------
tabu,mode,word,"best | first","Token comes immediately after 'tabu'."
tabu,initial_solution,component,INITIAL_SOLUTION_SPEC,""
tabu,termination,component,TERMINATION_SPEC,""
tabu,neighborhood,component,NEIGHBORHOOD_SPEC,""
tabu,tabu_tenure,component,TABU_TENURE_SPEC,"Built via COMPONENT_TABU_TENURE; exact tokens are in buildTabuTenure() (not included in the shown part of this file)."

# ---------------------------
# VND
# Structure: vnd (best|first) <initial_solution> <termination> <neighborhood>... [until parser returns EPSILON]
# ---------------------------
vnd,mode,word,"best | first","Token comes immediately after 'vnd'."
vnd,initial_solution,component,INITIAL_SOLUTION_SPEC,""
vnd,termination,component,TERMINATION_SPEC,""
vnd,neighborhoods,component,"NEIGHBORHOOD_SPEC (repeated)","Parser reads a vector of neighborhoods until it returns COMPONENT_EMPTY (EPSILON)."

# ---------------------------
# ILS / FILS
# Structure: ils <algorithm> <termination> <perturbation> <acceptance>
# ---------------------------
ils,local_search,component,ALGORITHM_SPEC,"This is a nested algorithm specification (e.g. first/best/tabu/vnd/etc)."
ils,termination,component,TERMINATION_SPEC,"Outer termination."
ils,perturbation,component,PERTURBATION_SPEC,""
ils,acceptance,component,ACCEPTANCE_SPEC,""

fils,local_search,component,ALGORITHM_SPEC,"Same as ILS but FeasibleIteratedLocalSearch."
fils,termination,component,TERMINATION_SPEC,""
fils,perturbation,component,PERTURBATION_SPEC,""
fils,acceptance,component,ACCEPTANCE_SPEC,""

# ---------------------------
# VNS (token is 'vns' in this parser)
# Structure: vns <algorithm> <termination> <shake> <neighborhood_change>
# ---------------------------
vns,local_search,component,ALGORITHM_SPEC,"Important: the token after 'vns' MUST be an algorithm (first/best/tabu/...)."
vns,termination,component,TERMINATION_SPEC,""
vns,shake,component,SHAKE_SPEC,""
vns,neighborhood_change,component,NEIGHBORHOOD_CHANGE_SPEC,""

# ---------------------------
# ALS (Alternate LS)
# Structure: als <initial_solution> <algorithm> <algorithm>
# ---------------------------
als,initial_solution,component,INITIAL_SOLUTION_SPEC,""
als,algo1,component,ALGORITHM_SPEC,""
als,algo2,component,ALGORITHM_SPEC,""

# ---------------------------
# LS-VND (token 'lsvnd')
# Structure: lsvnd <initial_solution> <algorithm> <algorithm> ... (vector)
# Termination is forced internally to locmin (not user-provided)
# ---------------------------
lsvnd,initial_solution,component,INITIAL_SOLUTION_SPEC,""
lsvnd,local_searches,component,"ALGORITHM_SPEC (repeated)","Treated as neighborhoods; termination is always locmin internally."

# ---------------------------
# NO LOCAL SEARCH
# Structure: nols <initial_solution>
# ---------------------------
nols,initial_solution,component,INITIAL_SOLUTION_SPEC,""

# ---------------------------
# PIPE
# Structure: lspipe <initial_solution> <algorithm> <algorithm> ... (vector)
# ---------------------------
lspipe,initial_solution,component,INITIAL_SOLUTION_SPEC,""
lspipe,components,component,"ALGORITHM_SPEC (repeated)","PipeSearch over multiple local searches."

# ---------------------------
# GA
# Structure: ga <int popSize> <float cr> <float mr> [memetic] <initial_solution> <termination> <ga_selection> <ga_crossover> <ga_mutation> [if memetic: <neighborhood>]
# ---------------------------
ga,popSize,number,int,">= 1 (parser only checks digits; practical >=2)"
ga,crossoverRate,number,float,"Decimal token required (at least contains a digit)."
ga,mutationRate,number,float,"Decimal token required (at least contains a digit)."
ga,memetic_flag,word,"memetic (optional)","If present, GA also consumes an extra NEIGHBORHOOD component for the improver."
ga,initial_solution,component,INITIAL_SOLUTION_SPEC,""
ga,termination,component,TERMINATION_SPEC,""
ga,selection,component,GA_SELECTION_SPEC,"Built via COMPONENT_GA_SELECTION (not shown here)."
ga,crossover,component,GA_CROSSOVER_SPEC,"Built via COMPONENT_GA_CROSSOVER (not shown here)."
ga,mutation,component,GA_MUTATION_SPEC,"Built via COMPONENT_GA_MUTATION (not shown here)."
ga,memetic_neighborhood,component,NEIGHBORHOOD_SPEC,"Only if 'memetic' appears."

# ---------------------------
# INITIAL SOLUTION (not defined in this file)
# ---------------------------
INITIAL_SOLUTION_SPEC,initial_solution,component,UNKNOWN_IN_THIS_FILE,"GeneralParser expects an initial solution component, but the tokens are defined in other builder files (e.g., PFSP builder), not in generalParser.cpp."

# ---------------------------
# TERMINATION (implemented in buildTermination)
# ---------------------------
TERMINATION_SPEC,true,word,true,"No parameters."
TERMINATION_SPEC,locmin,word,locmin,"No parameters."
TERMINATION_SPEC,time,number,"time <float>","If time==0 it is forced to 1."
TERMINATION_SPEC,timero,number,"timero <float>","Converted internally to time*problemSize; if time==0 forced to 1."
TERMINATION_SPEC,maxstep,number,"maxstep <int>",""
TERMINATION_SPEC,msorlocmin,number,"msorlocmin <int>",""
TERMINATION_SPEC,msnoimp,number,"msnoimp <int>",""

# (Macros exist but are NOT parsed/implemented in buildTermination in this file)
TERMINATION_SPEC,iteration,word,UNSUPPORTED_IN_BUILDTERMINATION,"Macro exists (TERMINATION_ITERA) but there is no parsing branch for it here."
TERMINATION_SPEC,soater,word,UNSUPPORTED_IN_BUILDTERMINATION,"Macro exists (TERMINATION_SOA) but there is no parsing branch for it here."
TERMINATION_SPEC,eval,word,UNSUPPORTED_IN_BUILDTERMINATION,"Macro exists (TERMINATION_EVA) but there is no parsing branch for it here."

# ---------------------------
# PERTURBATION (implemented in buildPerturbation)
# ---------------------------
PERTURBATION_SPEC,rndmv,component,"rndmv <neighborhood> <int>","RandomMovePerturbation."
PERTURBATION_SPEC,noper,word,noper,"NoPerturbation."
PERTURBATION_SPEC,vrndmv,component,"vrndmv <int numMoves> <int iterBeforeChange> <neighborhood>...","Then reads a vector of neighborhoods."
PERTURBATION_SPEC,perset,component,"perset <perturbation> <perturbation> ...","RandomPerturbationSet (vector)."
PERTURBATION_SPEC,cper,component,"cper <perturbation> <algorithm>","ComplexPerturbation."
PERTURBATION_SPEC,mrsilsp,component,"mrsilsp <int poolsize> <perturbation>","MRSILSPerturbation."

# (Macros exist but NOT parsed/implemented here)
PERTURBATION_SPEC,secper,word,UNSUPPORTED_IN_BUILDPERTURBATION,"Macro exists but no parsing branch shown."

# ---------------------------
# ACCEPTANCE (implemented in buildAcceptance)
# ---------------------------
ACCEPTANCE_SPEC,metropolis,number,"metropolis <float>","MetropolisAcceptance(temperature)."
ACCEPTANCE_SPEC,always,word,"always intensify | always diversify","Must be followed by intensify/diversify."
ACCEPTANCE_SPEC,improve,word,improve,"ImproveAccept."
ACCEPTANCE_SPEC,sa_metropolis,number,"sa_metropolis <float start> <float end> <float ratio>","Metropolis(start,end,ratio)."
ACCEPTANCE_SPEC,pmetro,number,"pmetro <float start> <float end> <float ratio> <int iterations>","Metropolis(start,end,ratio,iterations)."
ACCEPTANCE_SPEC,saacc,number,"saacc <float start> <float end> <float ratio> <int iterations> <float alpha>","Metropolis(start,end,ratio,iterations,alpha)."
ACCEPTANCE_SPEC,implat,number,"implat <int plateau_steps> <int threshold>","AcceptPlateau(plateau_steps,threshold)."
ACCEPTANCE_SPEC,explore,number,"explore <int steps>","AcceptExplore(steps)."

# (Macro exists but NOT parsed/implemented here)
ACCEPTANCE_SPEC,prob,word,UNSUPPORTED_IN_BUILDACCEPTANCE,"Macro exists (ACCEPTANCE_PROB) but no parsing branch shown."

# ---------------------------
# SHAKE (implemented in buildShake)
# ---------------------------
SHAKE_SPEC,pershake,component,"pershake <perturbation> <perturbation> ...","PerShake takes a vector of perturbations."
SHAKE_SPEC,nshake,component,"nshake <neighborhood> <neighborhood> ... <int max_size>","NeighborhoodShake: vector of neighborhoods then an int."

# ---------------------------
# NEIGHBORHOOD CHANGE (implemented in buildNeighborhoodChange)
# ---------------------------
NEIGHBORHOOD_CHANGE_SPEC,accng,component,"accng <acceptance>","AccNeighborhoodChange(acceptance)."

# ---------------------------
# NEIGHBORHOOD (implemented in buildNeighborhood in this file)
# ---------------------------
NEIGHBORHOOD_SPEC,rch,component,"rch <initial_solution>","RandomConstructiveHeuristicNeighborhood requires an INITIAL_SOLUTION component."
